 {% extends "base.html" %}
{% load static %}
{% comment %} 
<!DOCTYPE html>
<html>
<head>
  <title>All Products</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar" style="background-color: rgb(117, 193, 196);">
        <div class="container-fluid">
          <a class="navbar-brand">shopify</a>
          <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">logout</button>
          </form>
        </div>
    </nav>
    {% endcomment %}
 {% comment %} {% block main-content%}  
 {{request.user}}  
<div class="container mt-4">
  <h1 class="mb-4 text-center"></h1> 
  
  <div class="row">
    {% for product in products %}
      <div class="col-md-3 mb-3">
        <div class="card h-100">
          <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="height: 150px; object-fit: cover;">
          <div class="card-body">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text">₹{{ product.price }}</p>
            <hr>
            {% comment %} <p class="card-text">{{ product.description|truncatechars:60 }}</p> {% endcomment %}
          {% comment %} </div>
          <div class="card-footer text-center">
            <a href="{% url 'product_details' product.pk %}" class="btn btn-outline-success">view more</a>
            
          </div>
        </div>
      </div>
      
    {% endfor %}
  </div>
</div>
{% endblock main-content%}  {% endcomment %} 
{% block banner %}

<div class="mx-auto my-4 rounded-xl overflow-hidden shadow-lg" style="width: 100%; width: 1100px; height: 300px;">
  <div id="bannerCarousel" class="carousel slide h-100" data-bs-ride="carousel" data-bs-interval="3000">
    <div class="carousel-inner h-100">
      <div class="carousel-item active h-100">
        <img src="/media/banner_images/banner4unplash.jpg" class="d-block w-100 h-100 object-fit-cover" alt="Banner 1">
      </div>
      <div class="carousel-item h-100">
        <img src="/media/banner_images/unplash2.jpg" class="d-block w-100 h-100 object-fit-cover" alt="Banner 1">
      </div>
      <div class="carousel-item h-100">
        <img src="/media/banner_images/unplash3.jpg" class="d-block w-100 h-100 object-fit-cover" alt="Banner 1">
      </div>
      <div class="carousel-item h-100">
        <img src="/media/banner_images/unplash6.jpg" class="d-block w-100 h-100 object-fit-cover" alt="Banner 1">
      </div>
      <div class="carousel-item h-100">
        <img src="/media/banner_images/unplash5.jpg" class="d-block w-100 h-100 object-fit-cover" alt="Banner 1">
      </div>
    </div>

    <!-- Optional Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
    </button>
  </div>
</div>
{% endblock banner %}
{% block main-content %}
  <div class="container mt-4">
    <h1 class="mb-4 text-center"></h1>
    <div class="row">
      {% for product in products %}
        <div class="col-md-3 mb-3">
          <div class="card shadow-sm transition-card" style="max-width: 250px; margin: 0 auto; transition: transform 0.3s ease, box-shadow 0.3s ease;">
            <!-- Image on top -->
            <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="height: 150px; object-fit: cover;">
            
            <!-- Content below -->
            <div class="card-body p-2">
              <h6 class="card-title mb-1">{{ product.name }}</h6>
              <p class="card-text small mb-2 fw-bold">₹{{ product.price }}</p>
              
              <!-- Buttons side by side -->
              <div class="d-flex justify-content-between">
                <a href="{% url 'add_to_cart' product.id %}" class="btn btn-primary btn-sm">Add To Cart</a>
                <a href="{% url 'product_details' product.pk %}" class="btn btn-outline-success btn-sm">View Details</a>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  
  <style>
    .transition-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1) !important;
      cursor: pointer;
    }
  </style>
{% endblock main-content %}
